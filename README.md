# nlp_hackathon

Решение команды "Тимур и его команда".

![test workflow](https://github.com/rashidnabiev003/nlp_hackathon/actions/workflows/build.yaml/badge.svg)
![sphinx workflow](https://github.com/rashidnabiev003/nlp_hackathon/actions/workflows/pages/pages-build-deployment/badge.svg)

## Задача

Предложить метод парсинга таблиц и списков документов (docx) для векторной базы данных для IRсистемы в составе QA чат-бота.

Критерием качества рассматриваются лексические и "семантические" метрики генерации ответа языковой модели, использующей IR модель.

## Полезная информация

- **[Руководство по разработке ПП](gitdocs/contributing.md)** - обязательный гайд для всех участников о правилах написания кода и создания Пулл Реквестов.

## Подготовка рабочего окружения

- **[Инструкция по установке](gitdocs/Project_run.md)**

## Описание экспериментов

В результате работы над задачей были созданы артефакты исследований.

Их описание и путь

### Парсер

- **[Описание работы парсеров](gitdocs/parser_work.md)**

### Исследование метрик

- **[Таблица с кратким описанием метрик и обоснованием их выбора](gitdocs/metric_table.md)**

## Документация

- **[Документация по библиотеке](https://rashidnabiev003.github.io/nlp_hackathon/)** - содержит описания из doc-string используемых модулей

## Результаты по метрикам

**Bot 1 - Наш метод**

**Bot 2 - Baseline метод**

**Bot 3 - Бессерверный метод**

______________________________________________________________________

**Bot 1 Summary Statistics:**

| | BERTScore | ROUGE-1 | ROUGE-2 |
| ----- | --------: | -------: | -------: |
| count | 5.000000 | 5.000000 | 5.000000 |
| mean | 0.911270 | 0.654378 | 0.592962 |
| std | 0.120592 | 0.369976 | 0.406333 |
| min | 0.720552 | 0.076923 | 0.000000 |
| 25% | 0.862243 | 0.576577 | 0.500000 |
| 50% | 0.979120 | 0.666667 | 0.513761 |
| 75% | 0.994434 | 0.951724 | 0.951049 |
| max | 1.000000 | 1.000000 | 1.000000 |

______________________________________________________________________

**Bot 2 Summary Statistics:**

| | BERTScore | ROUGE-1 | ROUGE-2 |
| ----- | --------: | -------: | ------: |
| count | 5.000000 | 5.000000 | 5.0 |
| mean | 0.884925 | 0.099878 | 0.0 |
| std | 0.104025 | 0.170477 | 0.0 |
| min | 0.714198 | 0.000000 | 0.0 |
| 25% | 0.888371 | 0.000000 | 0.0 |
| 50% | 0.898750 | 0.025316 | 0.0 |
| 75% | 0.928796 | 0.074074 | 0.0 |
| max | 0.994511 | 0.400000 | 0.0 |

______________________________________________________________________

**Bot 3 Summary Statstics:**

| Statistic | BERTScore | ROUGE-1 | ROUGE-2 |
|-----------|----------:|----------:|----------:|
| **Count** | 5.000000 | 5.000000 | 5.000000 |
| **Mean** | 0.927905 | 0.449889 | 0.300161 |
| **Std** | 0.095646 | 0.289950 | 0.303952 |
| **Min** | 0.760442 | 0.160000 | 0.000000 |
| **25%** | 0.940702 | 0.173913 | 0.050314 |
| **50%** | 0.966334 | 0.466667 | 0.214286 |
| **75%** | 0.977298 | 0.612500 | 0.556962 |
| **Max** | 0.994752 | 0.836364 | 0.679245 |

______________________________________________________________________

**Best answers by BERTScore:**

**Bot 1 best (BERTScore: 1.000)**
**Question:** 3.1.3. Что должно происходить на уровне АРМ и что должно быть обеспечено?
**Answer:** На уровне АРМ операторов должна происходить визуализация технологических параметров. Должно быть обеспечено отсутствие возможности влияния на метрологически значимое ПО на уровне АРМ.
**Reference:** На уровне АРМ операторов должна происходить визуализация технологических параметров. Должно быть обеспечено отсутствие возможности влияния на метрологически значимое ПО на уровне АРМ.

**Bot 2 best (BERTScore: 0.995)**
**Question:** Перечисли все наименования выполняемых работ и их срок выполнения из таблицы 12 выполнение окр
**Answer:** Недостаточно информации
**Reference:** Недостаточно информации.

**Bot 3 best (BERTScore: 0.995):
Question:** 3.1.3. Что должно происходить на уровне АРМ и что должно быть обеспечено?
**Answer:** На уровне автоматизированных рабочих мест (АРМ) операторов должна происходить визуализация технологических параметров. Также должно быть обеспечено отсутствие возможности влияния на метрологически значимое программное обеспечение на уровне АРМ.
**Reference:** На уровне АРМ операторов должна происходить визуализация технологических параметров. Должно быть обеспечено отсутствие возможности влияния на метрологически значимое ПО на уровне АРМ.

**Best answers by ROUGE-1:**

**Bot 1 best (ROUGE-1: 1.000)**
**Question:** 3.1.3. Что должно происходить на уровне АРМ и что должно быть обеспечено?
**Answer:** На уровне АРМ операторов должна происходить визуализация технологических параметров. Должно быть обеспечено отсутствие возможности влияния на метрологически значимое ПО на уровне АРМ.
**Reference:** На уровне АРМ операторов должна происходить визуализация технологических параметров. Должно быть обеспечено отсутствие возможности влияния на метрологически значимое ПО на уровне АРМ.

**Bot 2 best (ROUGE-1: 0.400)**
**Question:** Перечисли все наименования выполняемых работ и их срок выполнения из таблицы 12 выполнение окр
**Answer:** Недостаочно информации
**Reference:** Недоастаточно информации.

**Bot 3 best (ROUGE-1: 0.836):
Question:** 3.1.3. Что должно происходить на уровне АРМ и что должно быть обеспечено?
**Answer:** На уровне автоматизированных рабочих мест (АРМ) операторов должна происходить визуализация технологических параметров. Также должно быть обеспечено отсутствие возможности влияния на метрологически значимое программное обеспечение на уровне АРМ.
**Reference:** На уровне АРМ операторов должна происходить визуализация технологических параметров. Должно быть обеспечено отсутствие возможности влияния на метрологически значимое ПО на уровне АРМ.

**Best answers by ROUGE-2:**

**Bot 1 best (ROUGE-2: 1.000)**
**Question:** 3.1.3. Что должно происходить на уровне АРМ и что должно быть обеспечено?
**Answer:** На уровне АРМ операторов должна происходить визуализация технологических параметров. Должно быть обеспечено отсутствие возможности влияния на метрологически значимое ПО на уровне АРМ.
**Reference:** На уровне АРМ операторов должна происходить визуализация технологических параметров. Должно быть обеспечено отсутствие возможности влияния на метрологически значимое ПО на уровне АРМ.

**Bot 2 best (ROUGE-2: 0.000)**
**Question:** 3.1 назови состав изделия пак угледоры
**Answer:** Недостаточно информации.
**Reference:** 3.1 Состав изделия
Состав изделия ПАК АИС Углеводороды:
– ПАК АИС в сборе (1 компл.);
– комплект запасных частей, инструментов и принадлежностей (1 компл.);
– общее программное обеспечение (1 компл.);
– специальное программное обеспечение (1 компл.);
– комплект лицензий на всё применяемое программное обеспечение (1 компл.);
– монтажный комплект (при необходимости).

**Bot 3 best (ROUGE-2: 0.679):
Question:** 3.1.3. Что должно происходить на уровне АРМ и что должно быть обеспечено?
**Answer:** На уровне автоматизированных рабочих мест (АРМ) операторов должна происходить визуализация технологических параметров. Также должно быть обеспечено отсутствие возможности влияния на метрологически значимое программное обеспечение на уровне АРМ.
**Reference:** На уровне АРМ операторов должна происходить визуализация технологических параметров. Должно быть обеспечено отсутствие возможности влияния на метрологически значимое ПО на уровне АРМ.

______________________________________________________________________

![Сравнение  метрик ботов](/notebooks/results/metrics_comparison.png)

Второй бот представляет собой базовое решение (baseline), которое, как видно из представленных данных, демонстрирует результаты хуже по всем ключевым показателям. На изображении представлено, что третий бот, являющийся бессерверным решением, демонстрирует лучшие показатели по сравнению с локальными решениями.

В результате исследования метрики BERTScore наше решение продемонстрировало незначительное улучшение. В то же время по метрикам ROUGE было зафиксировано существенное повышение качества.
Метрики MRR показали значение 1, что связано с наличием всего одного документа при тестировании ботов.
При тестировании бессерверного решения наблюдается дальнейшее улучшение показателя BERTScore по сравнению с базовым (baseline) решением. Однако показатели метрик ROUGE, напротив, продемонстрировали ухудшение по сравнению с локальным решением.

## Лицензия

Вся интеллектуальная собственность принадлежит физическим лицам - участникам команды "Тимур и его команда".

ПП предоставляется как есть, участники не несут ответственность за увечье причинённое физическим устройства или лицам в процесс эксплуатации ПП.

Участники оставляет за собой право изменить лицензию без предупреждения.

Изменения в лицензии применяется моментально, во всех мирах, во всех временных линий, включая те, в которых эти изменения не наступили.
